(this.webpackJsonpfootprint=this.webpackJsonpfootprint||[]).push([[0],{215:function(e,t,a){},216:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),l=a(26),r=a.n(l),s=(a(215),a(12)),c=(a(216),a(431)),o=a(432),b=a(424),u=a(426),d=a(429),m=a(430),h=a(2),j=function(e){var t=e.mode,a=e.setMode,n=Object(i.useState)(!1),l=Object(s.a)(n,2),r=l[0],j=l[1],p=function(){return function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&j(!r)}};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"header d-flex justify-content-between flex-wrap align-items-center",children:[Object(h.jsx)("div",{className:"app-title",onClick:function(){return a("home")},children:"Footprint"}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("ul",{className:"desktop-header",children:[Object(h.jsx)("li",{onClick:function(){return a("home")},className:"home"===t?"active":"",children:"Home"}),Object(h.jsx)("li",{onClick:function(){return a("individual")},className:"individual"===t?"active":"",children:"Individual"}),Object(h.jsx)("li",{onClick:function(){return a("collective")},className:"collective"===t?"active":"",children:"Collective"})]}),Object(h.jsxs)("div",{className:"mobile-header",children:[Object(h.jsx)(d.a,{onClick:p(),children:"Menu"}),Object(h.jsx)(m.a,{anchor:"right",open:r,onClose:p(),children:Object(h.jsx)(c.a,{sx:{width:250},role:"presentation",onClick:p(),onKeyDown:p(),children:Object(h.jsx)(o.a,{children:["home","individual","collective"].map((function(e,i){return Object(h.jsx)(b.a,{button:!0,children:Object(h.jsx)(u.a,{onClick:function(){return a(e)},className:"menu-item "+(t===e?"menu-item-active":""),primary:e})},e)}))})})})]})]})]})})},p=a(18),v=a(29),g=a(434),f=a(407),x=a(425),O=a(427),w="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",y=Object(f.a)({root:{color:function(e){return e.color},height:2,padding:"15px 0",width:200},thumb:{height:28,width:28,backgroundColor:"#fff",boxShadow:w,marginTop:-14,marginLeft:-14,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:w}}},active:{},valueLabel:{left:"calc(-50% + 12px)",top:-18,"& *":{background:"rgba(255,255,255, 0)",color:"#000"}},track:{height:2},rail:{height:2,opacity:.5,backgroundColor:"#bfbfbf"},mark:{backgroundColor:"#bfbfbf",height:8,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}}),k=Object(f.a)({input:{marginLeft:10,transform:"translateY(-10px)"}});function C(e){var t=e.handleActionValueChange,a=e.action,n=e.isActive,l=Object(i.useState)(0),r=Object(s.a)(l,2),c=r[0],o=r[1],b=y(a),u=k();return Object(h.jsxs)("div",{className:"action-slider-wrapper",children:[Object(h.jsxs)("div",{style:{marginBottom:"1.5rem"},className:"d-flex justify-content-between",children:[Object(h.jsx)("div",{children:a.label}),Object(h.jsx)("div",{className:"action-value",children:Object(h.jsx)(O.a,{title:"kgCO2eq",children:Object(h.jsx)("div",{children:a.value})})})]}),Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsx)(g.a,{classes:b,onChange:function(e,i){o(i),t(a,i)},"aria-label":"ios slider",marks:[{value:0},{value:a.max/4},{value:a.max/4*2},{value:a.max/4*3},{value:a.max/4*4}],min:a.min,max:a.max,value:n?c:0,valueLabelDisplay:"on"}),Object(h.jsx)(x.a,{className:u.input,style:{width:42+4*a.value.toString().length},value:n?c:0,margin:"dense",onBlur:function(){c<0?o(0):c>a.max&&o(a.max)},onChange:function(e){o(""===e.target.value?0:Number(e.target.value)),t(a,""===e.target.value?"":Number(e.target.value))},inputProps:{type:"number","aria-labelledby":"ios slider"}})]})]})}var N=a(4),S=a(5),E=a(419),z=a(414),A=a(412),L=a(413),F=a(435),B=a(422),T=Object(f.a)({list:{width:250},fullList:{width:"auto"}});function R(e){var t,a=e.handleReset,i=e.actions,l=e.visibleActions,r=e.toggleFromVisibleActions,c=T(),o=n.a.useState({top:!1,left:!1,bottom:!1,right:!1}),b=Object(s.a)(o,2),u=b[0],d=b[1],m=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&d(Object(v.a)(Object(v.a)({},u),{},Object(N.a)({},e,t)))}};return Object(h.jsx)("div",{className:"text-center add-options-wrapper",children:Object(h.jsxs)(n.a.Fragment,{children:[Object(h.jsxs)("div",{className:"d-flex justify-content-center flex-wrap",children:[Object(h.jsx)("div",{className:"add-options-btn-wrapper",style:{marginRight:"1rem"},children:Object(h.jsx)(z.a,{className:"button-black add-options",onClick:m("right",!0),children:"Ajouter des options"})}),Object(h.jsx)("div",{children:Object(h.jsx)(z.a,{className:"reset text-right",onClick:function(){return a()},children:"R\xe9initialiser"})})]}),Object(h.jsx)(E.a,{anchor:"right",open:u.right,onClose:m("right",!1),children:(t="right",Object(h.jsx)("div",{className:Object(S.a)(c.list,Object(N.a)({},c.fullList,"top"===t||"bottom"===t)),role:"presentation",onKeyDown:m(t,!1),children:i.map((function(e,t){return Object(h.jsxs)(n.a.Fragment,{children:[Object(h.jsxs)(A.a,{style:{paddingLeft:"1rem"},children:[Object(h.jsxs)("div",{className:"d-flex",style:{marginBottom:"1rem"},children:[Object(h.jsx)("img",{className:"category-img",src:e.img,alt:""}),Object(h.jsx)("div",{className:"category-label",style:{marginLeft:"15px"},children:e.label})]}),e.actions.map((function(e,t){return Object(h.jsx)(F.a,{children:Object(h.jsxs)("div",{className:"d-flex align-items-center",style:{marginRight:"1.5rem"},children:[Object(h.jsx)(B.a,{checked:l.includes(e),onChange:function(){r(e)},inputProps:{"aria-label":"primary checkbox"}}),Object(h.jsx)("div",{children:e.label})]},t)},t)}))]}),Object(h.jsx)(L.a,{})]},t)}))}))})]},"right")})}var _=function(e){var t=e.actions,a=e.handleActionValueChange,l=e.resetValues,r=Object(i.useState)([]),c=Object(s.a)(r,2),o=c[0],b=c[1],u=Object(i.useState)(t.map((function(e){return e.actions})).flat().filter((function(e){return e.visible}))),d=Object(s.a)(u,2),m=d[0],j=d[1],v=function(e,t){b(Array.from(new Set([].concat(Object(p.a)(o),[e])))),a(e,t)};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"input-sliders-wrapper",children:[Object(h.jsx)(R,{handleReset:function(){l(),b([])},actions:t,visibleActions:m,toggleFromVisibleActions:function(e){m.includes(e)?j(m.filter((function(t){return t!==e}))):j([].concat(Object(p.a)(m),[e]))}}),Object(h.jsx)("div",{className:"d-flex justify-content-center flex-wrap actions-sliders-wrapper mx-auto",style:{marginTop:"1rem"},children:t.map((function(e,t){return Object(h.jsxs)("div",{className:"slider-category-wrapper",style:{marginBottom:"0.5rem"},children:[Object(h.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{marginBottom:"1rem"},children:[Object(h.jsx)("img",{className:"category-img",src:e.img,alt:""}),Object(h.jsx)("div",{className:"category-label",style:{marginLeft:"15px"},children:e.label})]}),Object(h.jsx)("div",{className:"d-flex flex-wrap",children:e.actions.filter((function(e){return m.includes(e)})).map((function(e,t){return Object(h.jsx)(n.a.Fragment,{children:Object(h.jsx)(C,{isActive:o.includes(e),action:e,handleActionValueChange:v})},t)}))})]},t)}))})]})})},I=a(65);var M=function(){var e=Object(i.useState)({width:void 0,height:void 0}),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(i.useEffect)((function(){function e(){n({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a},P=a(103);I.b.font.family="mattoneregular",I.b.font.size=18;var W={plugins:{datalabels:{color:"black",display:!0,align:"end",anchor:"center",font:{size:15},formatter:Math.round},legend:{position:"bottom",labels:{font:{size:8}}}},maintainAspectRatio:!1,responsive:!0,scales:{y:{title:{display:!0,text:"(kgCO2eq)"}}}},V=function(e){var t=e.datasets,a=e.chartRef,i=e.playRef,n=M();return n.width<992&&(I.b.font.size=12),n.width<492&&(I.b.font.size=10),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"main-chart-wrapper",children:[0===t.length&&Object(h.jsxs)("div",{ref:function(e){null!==e&&(i.current=e)},className:"play",children:["Play with the sliders ",Object(h.jsx)("br",{}),Object(h.jsx)("div",{className:"text-center arrow-wrapper",children:Object(h.jsx)("span",{className:"arrow arrow-bar is-bottom"})})]}),Object(h.jsx)(I.a,{ref:function(e){null!==e&&(a.current=e)},data:{labels:["Empreinte carbone (CO2eq)"],datasets:t},options:W,type:"bar"})]}),Object(h.jsxs)("div",{className:"source",children:["Source : ",Object(h.jsx)("a",{target:"_blank",href:"https://data.ademe.fr/datasets/base-carbone(r)",children:"Base carbone\xae Ademe"})]})]})},q=function(e,t){var a=e.datasets.map((function(e){return e.label[0]}));a.length!==t.length&&t.length>a.length?t.filter((function(e){return!a.includes(e.label)})).forEach((function(t){a.push(t.label),e.datasets.push({barThickness:50,label:[t.label],backgroundColor:[t.color],borderColor:"transparent",borderWidth:3,hoverBackgroundColor:[t.color],hoverBorderColor:[t.color],data:[t.value]})})):a.length===t.length&&e.datasets.find((function(e){return t.forEach((function(t){return t.value!==e.data[0]&&t.label===e.label[0]&&(e.data[0]=t.value,!0)}))}))},D=a(35),G=function(e){var t=e.actions;D.c.register(P.a);var a=Object(i.useRef)(null),n=Object(i.useRef)(null),l=[];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"mode-baseline-title",children:"Carbon footprint (CO2eq) of individual actions"}),Object(h.jsx)("div",{className:"mode-baseline-subtitle",children:"Ever wanted to know which individual choice has the biggest potential to reduce your personnal ghg emissions ? Play with the sliders below to discover the truth."}),Object(h.jsx)(V,{playRef:n,chartRef:a,datasets:[]}),Object(h.jsx)(_,{actions:t,handleActionValueChange:function(e,t){var i=l.filter((function(t){return t.label===e.label}));(i=0===i.length?Object(v.a)({},e):i[0]).value=e.value*t,l=[].concat(Object(p.a)(l.filter((function(t){return t.label!==e.label}))),[i]),q(a.current.config.data,l),a.current.config.data.datasets=a.current.config.data.datasets.sort((function(e,t){return t.data[0]-e.data[0]})),"none"!==n.current.style.display&&(n.current.style.display="none"),a.current.update()},resetValues:function(){l=[],a.current.config.data.datasets=[],q(a.current.config.data,[]),a.current.update()}})]})},H=function(){return Object(h.jsx)("div",{className:"loader",children:Object(h.jsx)("div",{className:"slider-wrapper",children:Object(h.jsx)("div",{className:"slider",children:Array.from(Array(100).keys()).map((function(e,t){return Object(h.jsx)("div",{className:"slider-item",children:Object(h.jsx)("img",{height:40,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/foot_1f9b6.png",alt:"Emoji pied vu de dessous"})},t)}))})})})},J=[{label:"Transport",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/woman-biking_1f6b4-200d-2640-fe0f.png",actions:[{label:"Voiture (1km)",value:.19,color:"rgb(127,127,127)",min:0,max:1e3,visible:!0},{label:"TGV (1km)",value:.00173,color:"rgb(156,255,198)",min:0,max:5e3,visible:!0},{label:"Avion (1km)",value:.23,color:"rgb(142,68,16)",min:0,max:1e5,visible:!0}]},{label:"Num\xe9rique",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/laptop_1f4bb.png",actions:[{label:"Envoyer un email",value:.004,color:"rgb(255,103,0)",min:0,max:1e3,visible:!0},{label:"Un tweet",value:2e-5,color:"rgb(54,185,255)",min:0,max:1e3,visible:!1},{label:"Smartphone",value:32,color:"rgb(83,83,83)",min:0,max:70,visible:!0},{label:"Streaming vid\xe9o (1H)",value:.07,color:"rgb(151,151,151)",min:0,max:7e3,visible:!0},{label:"Ordinateur portable (15 pouces)",value:392,color:"rgb(154,154,154)",min:0,max:25,visible:!1}]},{label:"Multim\xe9dia",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/television_1f4fa.png",actions:[{label:"Appareil photo",value:28,color:"rgb(149,0,255)",min:0,max:30,visible:!0},{label:"1 livre de poche",value:1.18,color:"rgb(114,201,35)",min:0,max:100,visible:!0},{label:"\xc9cran LCD (24 pouces)",value:431,color:"rgb(255,250,0)",min:0,max:10,visible:!1},{label:"Ordinateur fixe",value:865,color:"rgb(90,90,90)",min:0,max:20,visible:!1},{label:"T\xe9l\xe9vision 45 pouces",value:371,color:"rgb(88,88,88)",min:0,max:10,visible:!0}]},{label:"Alimentation",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/curry-rice_1f35b.png",actions:[{label:"Alcool fort (10cl)",value:.12,color:"rgb(243,243,243)",min:0,max:1e3,visible:!1},{label:"Blanc de poulet (120g)",value:.576,color:"rgb(205,204,78)",min:0,max:1e3,visible:!1},{label:"Boeuf (120g)",value:4.8,color:"rgb(255,0,38)",min:0,max:1e3,visible:!1},{label:"Canard (120g)",value:.78,color:"rgb(149,255,0)",min:0,max:1e3,visible:!1},{label:"Brioche (100g)",value:.491,color:"rgb(255,191,0)",min:0,max:1e3,visible:!1},{label:"Brocoli (100g)",value:.06,color:"rgb(98,255,0)",min:0,max:1e3,visible:!1},{label:"Chocolat noir (100g)",value:1.8,color:"rgb(140,11,11)",min:0,max:1e3,visible:!1},{label:"Compote (100g)",value:.08,color:"rgb(255,0,51)",min:0,max:1e3,visible:!1},{label:"Cr\xeape (100g)",value:.17,color:"rgb(255,250,0)",min:0,max:1e3,visible:!1},{label:"Fromage (150g)",value:.675,color:"rgb(255,250,0)",min:0,max:1e3,visible:!1},{label:"Fondant au chocolat (125g)",value:1.21,color:"rgb(82,32,0)",min:0,max:1e3,visible:!1},{label:"Glace (60g)",value:.1422,color:"rgb(255,222,0)",min:0,max:1e3,visible:!1},{label:"Jambon cru (130g)",value:1.638,color:"rgb(248,130,245)",min:0,max:1e3,visible:!1},{label:"Bi\xe8re (pinte)",value:1.33,color:"rgb(198,155,27)",min:0,max:1e3,visible:!1},{label:"L\xe9gumes/fruits local, de saison (100g)",value:.026,color:"rgb(85,213,101)",min:0,max:1e3,visible:!1},{label:"L\xe9gumes/fruits import\xe9 par avion, saison ou hors saison (100g)",value:2.7,color:"rgb(54,80,45)",min:0,max:1e3,visible:!1},{label:"Petits pois conserve (100g)",value:.04,color:"rgb(20,219,14)",min:0,max:1e3,visible:!1},{label:"Eau du robinet (1L)",value:13e-5,color:"rgb(0,50,118)",min:0,max:1e3,visible:!1},{label:"Eau de source (1L)",value:.45,color:"rgb(4,84,203)",min:0,max:1e3,visible:!1},{label:"Repas avec du boeuf",value:7.26,color:"rgb(172,16,40)",min:0,max:1e3,visible:!0},{label:"Repas avec du poulet",value:1.58,color:"rgb(255,250,133)",min:0,max:1e3,visible:!0},{label:"Repas v\xe9g\xe9tarien",value:.51,color:"rgb(47,219,65)",min:0,max:1e3,visible:!0}]},{label:"V\xe9tements",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/t-shirt_1f455.png",actions:[{label:"Chaussures",value:15,color:"rgb(11,125,140)",min:0,max:100,visible:!0},{label:"Chemise",value:11,color:"rgb(245,242,129)",min:0,max:200,visible:!1},{label:"T-shirt coton",value:5.2,color:"rgb(144,121,182)",min:0,max:300,visible:!0},{label:"1 jean en coton",value:23.2,color:"rgb(4,0,121)",min:0,max:300,visible:!0}]},{label:"\xc9nergie",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/high-voltage_26a1.png",actions:[{label:"Jour de chauffage (gaz)",value:18.63,color:"rgb(119,8,154)",min:0,max:1e4,visible:!0},{label:"Jour de chauffage (\xe9l\xe9ctricit\xe9)",value:1.64,color:"rgb(255,250,0)",min:0,max:1e4,visible:!0},{label:"Jour de chauffage (fioul)",value:32.05,color:"rgb(117,41,0)",min:0,max:1e4,visible:!0}]},{label:"Maison",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/house_1f3e0.png",actions:[{label:"1 canap\xe9 convertible",value:197,color:"rgb(39,53,121)",min:0,max:20,visible:!0},{label:"Feuille de papier A4",value:.0046,color:"rgb(246,246,246)",min:0,max:1e3,visible:!0},{label:"Chaise",value:24.8,color:"rgb(248,84,255)",min:0,max:10,visible:!0},{label:"Table",value:60,color:"rgb(248,84,255)",min:0,max:10,visible:!1}]},{label:"Electrom\xe9nager",img:"https://www.emoji.com/wp-content/uploads/filebase/thumbnails/icons/emoji-icon-glossy-07-16-objects-other-object-fridge-72dpi-forPersonalUseOnly.png",actions:[{label:"Lave-vaisselle",value:271,color:"rgb(255,250,0)",min:0,max:10,visible:!0},{label:"R\xe9frig\xe9rateur",value:196,color:"rgb(49,213,255)",min:0,max:10,visible:!0},{label:"Aspirateur",value:50,color:"rgb(255,87,16)",min:0,max:10,visible:!0},{label:"Mini-four \xe9lectrique (cavit\xe9 33 litres)",value:82.7,color:"rgb(27,183,155)",min:0,max:10,visible:!1},{label:"Four \xe9lectrique encastrable (54 litres)",value:217,color:"rgb(0,89,74)",min:0,max:10,visible:!1},{label:"Four professionnel vapeur combi \xe9lectrique",value:865,color:"rgb(0,54,45)",min:0,max:10,visible:!1},{label:"Lave-vaisselle compact (9 couverts)",value:235,color:"rgb(160,208,0)",min:0,max:10,visible:!1},{label:"Lave-vaisselle standard (12 couverts)",value:271,color:"rgb(173,146,0)",min:0,max:10,visible:!1},{label:"Micro-onde",value:98.4,color:"rgb(183,53,201)",min:0,max:10,visible:!1}]}],Y=a(116),K=a.n(Y),U=a(62),$=a.n(U),Q=a(117),X=a.n(Q);X()($.a);var Z=function(e){var t=e.setMode;return Object(h.jsxs)("div",{className:"home",children:[Object(h.jsxs)("div",{className:"home-text-content",children:[Object(h.jsx)("h1",{className:"app-title-big",children:"Footprint"}),Object(h.jsxs)("div",{className:"app-subtitle",children:["Because reducing human pressure on the planet is a combination of ",Object(h.jsx)("span",{onClick:function(){return t("individual")},className:"important-word",children:"individual"})," and ",Object(h.jsx)("span",{onClick:function(){return t("collective")},className:"important-word",children:"collective"})," actions, here are some hints - thanks to data - about what to do by yourself and together."]})]}),Object(h.jsxs)("div",{className:"mode-cta-wrapper d-flex justify-content-evenly flex-wrap",children:[Object(h.jsxs)("div",{onClick:function(){return t("individual")},className:"mode-cta d-flex align-items-center mt-3",children:["Discover individual data ",Object(h.jsx)("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/foot_1f9b6.png",alt:""})]}),Object(h.jsxs)("div",{onClick:function(){return t("collective")},className:"mode-cta d-flex align-items-center mt-3",children:["Discover collective data ",Object(h.jsx)("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/foot_1f9b6.png",alt:""}),Object(h.jsx)("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/foot_1f9b6.png",alt:""}),Object(h.jsx)("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/foot_1f9b6.png",alt:""})]})]})]})},ee=function(){return Object(h.jsx)("footer",{children:Object(h.jsxs)("p",{children:["Made with love and concern by ",Object(h.jsx)("strong",{children:Object(h.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/alexandre-mace",children:"@alexandre-mace"})})]})})},te=a.p+"static/media/ghg-emissions-by-sector-211121.aca3d77c.csv",ae=a(147),ie=a.n(ae),ne=a(186),le=a(187),re=a.n(le);function se(){return(se=Object(ne.a)(ie.a.mark((function e(t){var a,i,n,l,r,s,c,o,b,u,d,m,h,j=arguments;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=j.length>1&&void 0!==j[1]&&j[1],i=j.length>2?j[2]:void 0,n=j.length>3?j[3]:void 0,l=j.length>4?j[4]:void 0,a){e.next=16;break}return e.next=7,fetch(t);case 7:return r=e.sent,s=r.body.getReader(),e.next=11,s.read();case 11:c=e.sent,o=new TextDecoder("utf-8"),b=o.decode(c.value),u=re.a.parse(b,{header:!0}),a=u.data;case 16:d=[],m=[],h=[],a.forEach((function(e){d[e.Entity]||(d[e.Entity]=[]),h.includes(e.Entity)||h.push(e.Entity),m.includes(e.Year)||m.push(e.Year),Object.keys(e).filter((function(e){return!["Year","Entity","Code"].includes(e)})).forEach((function(t){n&&e.Year!==n||(0===d[e.Entity].filter((function(e){return e.name===t})).length&&(n&&l?d[e.Entity].push({name:ce(t),data:0}):d[e.Entity].push({name:ce(t),data:[]})),n&&l?d[e.Entity].filter((function(e){return t.includes(e.name)}))[0].y=parseInt(""!==e[t]?e[t]:0):d[e.Entity].filter((function(e){return t.includes(e.name)}))[0].y.push(parseInt(""!==e[t]?e[t]:0)))}))})),l&&d&&i({data:d[l],rows:a,years:m.reverse(),countries:h});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce=function(e){return e.replace(" (GHG Emissions, CAIT)","",e)},oe=function(e){return se.apply(this,arguments)},be=a(436),ue=a(420),de=a(418);function me(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}X()($.a);var he={chart:{plotBackgroundColor:null,plotBorderWidth:null,backgroundColor:null,plotShadow:!1,options3d:{enabled:!0,alpha:45,beta:0}},title:{text:""},plotOptions:{pie:{size:"130%",allowPointSelect:!0,slicedOffset:40,cursor:"pointer",depth:35,dataLabels:{style:{fontSize:"16px",fontWeight:"normal"},enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{type:"pie",data:[]}],credits:{enabled:!1}},je={chart:{plotBackgroundColor:null,plotBorderWidth:null,backgroundColor:null,plotShadow:!1,options3d:{enabled:!0,alpha:45,beta:0}},title:{text:""},plotOptions:{pie:{allowPointSelect:!0,size:"150%",cursor:"pointer",depth:35,dataLabels:{style:{fontSize:"7px",fontWeight:"normal"},enabled:!1,format:"<b>{point.name}</b>: {point.percentage:.1f} %"},legend:{align:"center",layout:"vertical",verticalAlign:"top",x:40,y:0},showInLegend:!0}},series:[{type:"pie",data:[]}],credits:{enabled:!1}},pe=function(e){var t=Object(i.useRef)(null),a=n.a.useState({data:{},rows:!1,years:[],countries:[]}),l=Object(s.a)(a,2),r=l[0],o=l[1],b=n.a.useState("2016"),u=Object(s.a)(b,2),d=u[0],m=u[1],j=n.a.useState("World"),p=Object(s.a)(j,2),g=p[0],f=p[1],x=function(){var e=Object(i.useState)(me()),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(i.useEffect)((function(){function e(){n(me())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().width;n.a.useLayoutEffect((function(){oe(te,r.rows,o,d,g)}),[]),n.a.useEffect((function(){oe(te,r.rows,o,d,g)}),[d,g]);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(c.a,{alignSelf:"center",fontSize:"1.1rem",children:Object(h.jsx)("h2",{children:"GHG (CO2eq) Emissions by sector"})}),Object(h.jsxs)(c.a,{alignSelf:"center",marginTop:3,marginBottom:3,textAlign:"center",children:[Object(h.jsx)(be.a,{sx:{minWidth:300,maxWidth:400,marginBottom:2},children:Object(h.jsx)(ue.a,{disablePortal:!0,id:"year-box",options:r.years,value:d,onChange:function(e){void 0!==e.target.innerText&&m(e.target.innerText)},sx:{width:300},renderInput:function(e){return Object(h.jsx)(de.a,Object(v.a)(Object(v.a)({},e),{},{label:"Year"}))}})}),Object(h.jsx)(be.a,{sx:{minWidth:300,maxWidth:400},children:Object(h.jsx)(ue.a,{disablePortal:!0,id:"country-box",options:r.countries,color:"primary",value:g,onChange:function(e){void 0!==e.target.innerText&&f(e.target.innerText)},sx:{width:300},renderInput:function(e){return Object(h.jsx)(de.a,Object(v.a)(Object(v.a)({},e),{},{label:"Country"}))}})})]}),Object(h.jsx)(K.a,Object(v.a)({highcharts:$.a,options:Object(v.a)(Object(v.a)({},x>500?he:je),{series:[{type:"pie",data:r.data}]}),ref:t},e)),Object(h.jsx)(c.a,{alignSelf:"center",fontSize:"0.7rem",children:Object(h.jsx)("a",{href:"https://www.climatewatchdata.org/data-explorer/historical-emissions?historical-emissions-data-sources=cait&historical-emissions-gases=all-ghg&historical-emissions-regions=All%20Selected&historical-emissions-sectors=All%20Selected&page=1",children:"Sources (CAIT)"})})]})},ve=a(188),ge=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(pe,{}),Object(h.jsxs)(c.a,{alignSelf:"center",fontSize:"1.1rem",textAlign:"center",marginTop:10,children:[Object(h.jsx)("h2",{children:"Consumption-based CO2 emissions per capita"}),Object(h.jsx)("p",{children:"In the visualization we show how consumption-based emissions corrected for population size emissions per capita varies across the world."})]}),Object(h.jsx)("div",{className:"d-flex justify-content-center iframe-wrapper",children:Object(h.jsx)(ve.a,{url:"https://ourworldindata.org/grapher/consumption-co2-per-capita?time=2019&country=",width:"100%",height:"600px",loading:"lazy",id:"owid-iframe",className:"myClassname",display:"initial",position:"relative",styles:{border:"0px none"}})})]})};var fe=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],l=Object(i.useState)("home"),r=Object(s.a)(l,2),c=r[0],o=r[1];return Object(i.useEffect)((function(){setInterval((function(){n(!0)}),1e3)}),[]),Object(h.jsxs)("div",{className:"App",children:[!a&&Object(h.jsx)(H,{}),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(j,{mode:c,setMode:o}),"home"===c&&Object(h.jsx)(Z,{setMode:o}),"individual"===c&&Object(h.jsx)(G,{actions:J}),"collective"===c&&Object(h.jsx)(ge,{}),Object(h.jsx)(ee,{})]})]})},xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,437)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,l=t.getLCP,r=t.getTTFB;a(e),i(e),n(e),l(e),r(e)}))},Oe=a(189),we=a(416),ye=Object(Oe.a)({palette:{primary:{main:"#ff4b31"},secondary:{main:"#ff4b31"}}});r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(we.a,{theme:ye,children:Object(h.jsx)(fe,{})})}),document.getElementById("root")),xe()}},[[332,1,2]]]);
//# sourceMappingURL=main.bba68a13.chunk.js.map