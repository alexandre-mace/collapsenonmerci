(this.webpackJsonpfootprint=this.webpackJsonpfootprint||[]).push([[0],{169:function(e,a,t){},170:function(e,a,t){},284:function(e,a,t){"use strict";t.r(a);var l=t(1),i=t.n(l),r=t(21),s=t.n(r),n=(t(169),t(12)),c=(t(170),t(357),t(358),t(352),t(355),t(2)),o=function(e){e.mode,e.setMode;var a=Object(l.useState)(!1),t=Object(n.a)(a,2);t[0],t[1];return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:"header d-flex justify-content-between flex-wrap align-items-center",children:[Object(c.jsxs)("a",{className:"app-title d-flex align-items-center",href:"/",children:[Object(c.jsx)("img",{className:"mr-2",height:27,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/285/foot_1f9b6.png",alt:"Logo du projet"}),"Footprint"]}),Object(c.jsxs)("div",{className:"climate-lab d-flex align-items-center",children:[Object(c.jsx)("div",{className:"mr-3",children:"un outil du "}),Object(c.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",className:"d-flex align-items-center climate-lab-link",href:"https://climatelab.fr",children:[Object(c.jsx)("img",{height:27,width:27,className:"logo-img mr-1",src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/285/alembic_2697-fe0f.png",alt:"Alambic"})," ClimateLab"]})]})]})})},b=t(13),m=t(42),u=t(359),d=t(343),g=t(354),v=t(350),h="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",p=Object(d.a)({root:{color:function(e){return e.color},height:2,padding:"15px 0",width:200},thumb:{height:28,width:28,backgroundColor:"#fff",boxShadow:h,marginTop:-14,marginLeft:-14,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:h}}},active:{},valueLabel:{left:"calc(-50% + 12px)",top:-18,"& *":{background:"rgba(255,255,255, 0)",color:"#000"}},track:{height:2},rail:{height:2,opacity:.5,backgroundColor:"#bfbfbf"},mark:{backgroundColor:"#bfbfbf",height:8,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}}),j=Object(d.a)({input:{marginLeft:10,transform:"translateY(-10px)"}});function x(e){var a=e.handleActionValueChange,t=e.action,i=e.isActive,r=Object(l.useState)(0),s=Object(n.a)(r,2),o=s[0],b=s[1],m=p(t),d=j();return Object(c.jsxs)("div",{className:"action-slider-wrapper",children:[Object(c.jsxs)("div",{style:{marginBottom:"1.5rem"},className:"d-flex justify-content-between",children:[Object(c.jsx)("div",{children:t.label}),Object(c.jsx)("div",{className:"action-value",children:Object(c.jsx)(v.a,{title:"kgCO2eq",children:Object(c.jsx)("div",{children:t.value})})})]}),Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(u.a,{classes:m,onChange:function(e,l){b(l),a(t,l)},"aria-label":"ios slider",marks:[{value:0},{value:t.max/4},{value:t.max/4*2},{value:t.max/4*3},{value:t.max/4*4}],min:t.min,max:t.max,value:i?o:0,valueLabelDisplay:"on"}),Object(c.jsx)(g.a,{className:d.input,style:{width:42+4*t.value.toString().length},value:i?o:0,margin:"dense",onBlur:function(){o<0?b(0):o>t.max&&b(t.max)},onChange:function(e){b(""===e.target.value?0:Number(e.target.value)),a(t,""===e.target.value?"":Number(e.target.value))},inputProps:{type:"number","aria-labelledby":"ios slider"}})]})]})}var f=t(8),O=t(4),w=t(351),y=t(348),N=t(346),k=t(347),C=t(360),L=t(353),A=Object(d.a)({list:{width:250},fullList:{width:"auto"}});function F(e){var a,t=e.handleReset,l=e.actions,r=e.visibleActions,s=e.toggleFromVisibleActions,o=A(),b=i.a.useState({top:!1,left:!1,bottom:!1,right:!1}),u=Object(n.a)(b,2),d=u[0],g=u[1],v=function(e,a){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&g(Object(m.a)(Object(m.a)({},d),{},Object(f.a)({},e,a)))}};return Object(c.jsx)("div",{className:"text-center add-options-wrapper",children:Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsxs)("div",{className:"d-flex justify-content-end flex-wrap",children:[Object(c.jsx)("div",{className:"add-options-btn-wrapper",style:{marginRight:"1rem"},children:Object(c.jsx)(y.a,{size:"small",className:"button-black add-options",onClick:v("right",!0),children:"Ajouter des options"})}),Object(c.jsx)("div",{children:Object(c.jsx)(y.a,{size:"small",className:"reset text-right",onClick:function(){return t()},children:"R\xe9initialiser"})})]}),Object(c.jsx)(w.a,{anchor:"right",open:d.right,onClose:v("right",!1),children:(a="right",Object(c.jsx)("div",{className:Object(O.a)(o.list,Object(f.a)({},o.fullList,"top"===a||"bottom"===a)),role:"presentation",onKeyDown:v(a,!1),children:l.map((function(e,a){return Object(c.jsxs)(i.a.Fragment,{children:[Object(c.jsxs)(N.a,{style:{paddingLeft:"1rem"},children:[Object(c.jsxs)("div",{className:"d-flex",style:{marginBottom:"1rem"},children:[Object(c.jsx)("img",{className:"category-img",src:e.img,alt:""}),Object(c.jsx)("div",{className:"category-label",style:{marginLeft:"15px"},children:e.label})]}),e.actions.map((function(e,a){return Object(c.jsx)(C.a,{children:Object(c.jsxs)("div",{className:"d-flex align-items-center",style:{marginRight:"1.5rem"},children:[Object(c.jsx)(L.a,{checked:r.includes(e),onChange:function(){s(e)},inputProps:{"aria-label":"primary checkbox"}}),Object(c.jsx)("div",{children:e.label})]},a)},a)}))]}),Object(c.jsx)(k.a,{})]},a)}))}))})]},"right")})}var z=function(e){var a=e.actions,t=e.handleActionValueChange,r=e.resetValues,s=Object(l.useState)([]),o=Object(n.a)(s,2),m=o[0],u=o[1],d=Object(l.useState)(a.map((function(e){return e.actions})).flat().filter((function(e){return e.visible}))),g=Object(n.a)(d,2),v=g[0],h=g[1],p=function(e,a){u(Array.from(new Set([].concat(Object(b.a)(m),[e])))),t(e,a)};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{id:"input-sliders-wrapper",className:"input-sliders-wrapper",children:[Object(c.jsx)(F,{handleReset:function(){r(),u([])},actions:a,visibleActions:v,toggleFromVisibleActions:function(e){v.includes(e)?h(v.filter((function(a){return a!==e}))):h([].concat(Object(b.a)(v),[e]))}}),Object(c.jsx)("div",{className:"d-flex justify-content-center flex-wrap actions-sliders-wrapper mx-auto",style:{marginTop:"1rem"},children:a.map((function(e,a){return Object(c.jsxs)("div",{className:"slider-category-wrapper",style:{marginBottom:"0.5rem"},children:[Object(c.jsxs)("div",{className:"d-flex align-items-center justify-content-center",style:{marginBottom:"1rem"},children:[Object(c.jsx)("img",{className:"category-img",src:e.img,alt:""}),Object(c.jsx)("div",{className:"category-label",style:{marginLeft:"15px"},children:e.label})]}),Object(c.jsx)("div",{className:"d-flex flex-wrap",children:e.actions.filter((function(e){return v.includes(e)})).map((function(e,a){return Object(c.jsx)(i.a.Fragment,{children:Object(c.jsx)(x,{isActive:m.includes(e),action:e,handleActionValueChange:p})},a)}))})]},a)}))})]})})},B=t(51);var E=function(){var e=Object(l.useState)({width:void 0,height:void 0}),a=Object(n.a)(e,2),t=a[0],i=a[1];return Object(l.useEffect)((function(){function e(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t},S=t(82);B.b.font.family="mattoneregular",B.b.font.size=18;var R={plugins:{datalabels:{color:"black",display:!0,align:"end",anchor:"center",font:{size:15},formatter:function(e){return window.innerWidth>700?e:e>=1e3?e/1e3+"T":e}},legend:{position:"bottom",labels:{font:{size:8}}}},maintainAspectRatio:!1,responsive:!0,scales:{y:{title:{display:!0,text:"(kgCO2eq)"},ticks:{callback:function(e,a,t){return parseInt(e)>=1e3?parseFloat(e)/1e3+"T":parseFloat(e)}}}}},T=function(e){var a=e.datasets,t=e.chartRef,l=e.playRef,i=E();return i.width<992&&(B.b.font.size=12),i.width<492&&(B.b.font.size=10),Object(c.jsxs)("div",{className:"chart-section "+(a.length>0?"":"hidden"),children:[0===a.length&&Object(c.jsxs)("a",{href:"#input-sliders-wrapper",ref:function(e){null!==e&&(l.current=e)},className:"play",children:["Joue avec les options ",Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"text-center arrow-wrapper",children:Object(c.jsx)("span",{className:"arrow arrow-bar is-bottom"})})]}),Object(c.jsxs)("div",{className:"text-center total-wrapper hidden",children:["Total : ",Object(c.jsx)("span",{id:"total"})," kgCO2eq"]}),Object(c.jsxs)("div",{className:"chart-section-content",children:[Object(c.jsx)("div",{className:"main-chart-wrapper",children:Object(c.jsx)(B.a,{ref:function(e){null!==e&&(t.current=e)},data:{labels:["Empreinte carbone (CO2eq)"],datasets:a},options:R,type:"bar"})}),Object(c.jsx)("div",{className:"main-chart-title",children:"Empreinte carbone (CO2eq) d'actions individuelles"}),Object(c.jsxs)("div",{className:"source",children:["Source : ",Object(c.jsx)("a",{target:"_blank",href:"https://data.ademe.fr/datasets/base-carbone(r)",children:"Base carbone\xae Ademe"})]})]})]})},_=function(e,a){var t=e.datasets.map((function(e){return e.label[0]}));t.length!==a.length&&a.length>t.length?a.filter((function(e){return!t.includes(e.label)})).forEach((function(a){t.push(a.label),e.datasets.push({barThickness:window.innerWidth<700?20:50,label:[a.label],backgroundColor:[a.color],borderColor:"transparent",borderWidth:3,hoverBackgroundColor:[a.color],hoverBorderColor:[a.color],data:[a.value]})})):t.length===a.length&&e.datasets.find((function(e){return a.forEach((function(a){return a.value!==e.data[0]&&a.label===e.label[0]&&(e.data[0]=a.value,!0)}))}))},V=t(30),q=function(e){var a=e.actions;V.c.register(S.a);var t=Object(l.useRef)(null),i=Object(l.useRef)(null),r=[];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"mode-baseline-subtitle",children:["Apprivoisez les ",Object(c.jsx)("span",{className:"important-word",children:"ordres de grandeurs"})," des \xe9missions de gaz \xe0 effet de serre relatifs \xe0 nos activit\xe9s quotidiennes."]}),Object(c.jsx)(T,{playRef:i,chartRef:t,datasets:[]}),Object(c.jsx)(z,{actions:a,handleActionValueChange:function(e,a){var l=r.find((function(a){return a.label===e.label}));l||(l=Object(m.a)({},e)),l.value=Math.round(e.value*a*100)/100,r=[].concat(Object(b.a)(r.filter((function(a){return a.label!==e.label}))),[l]);var s=0;r.forEach((function(e){s+=parseFloat(e.value)})),1===r.length&&(s=parseFloat(r[0].value)),_(t.current.config.data,r),t.current.config.data.datasets=t.current.config.data.datasets.sort((function(e,a){return a.data[0]-e.data[0]})),"none"!==i.current.style.display&&(i.current.style.display="none"),document.getElementsByClassName("chart-section")[0].classList.contains("hidden")&&document.getElementsByClassName("chart-section")[0].classList.remove("hidden"),document.getElementsByClassName("total-wrapper")[0].classList.contains("hidden")&&document.getElementsByClassName("total-wrapper")[0].classList.remove("hidden"),t.current.update(),document.getElementById("total").innerText=s.toFixed(2)},resetValues:function(){r=[],t.current.config.data.datasets=[],_(t.current.config.data,[]),t.current.update()}})]})},M=function(){return Object(c.jsx)("div",{className:"loader",children:Object(c.jsx)("div",{className:"slider-wrapper",children:Object(c.jsx)("div",{className:"slider",children:Array.from(Array(100).keys()).map((function(e,a){return Object(c.jsx)("div",{className:"slider-item",children:Object(c.jsx)("img",{height:40,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/foot_1f9b6.png",alt:"Emoji pied vu de dessous"})},a)}))})})})},J=[{label:"Transport",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/woman-biking_1f6b4-200d-2640-fe0f.png",actions:[{label:"Voiture (1km)",value:.19,color:"rgb(127,127,127)",min:0,max:1e4,visible:!0},{label:"TGV (1km)",value:.00173,color:"rgb(156,255,198)",min:0,max:5e3,visible:!0},{label:"Avion (1km)",value:.23,color:"rgb(142,68,16)",min:0,max:1e5,visible:!0}]},{label:"Num\xe9rique",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/laptop_1f4bb.png",actions:[{label:"Envoyer un email",value:.004,color:"rgb(255,103,0)",min:0,max:1e3,visible:!0},{label:"Un tweet",value:2e-5,color:"rgb(54,185,255)",min:0,max:1e3,visible:!1},{label:"Smartphone",value:32,color:"rgb(196,132,132)",min:0,max:70,visible:!0},{label:"Streaming vid\xe9o (1H)",value:.07,color:"rgb(151,151,151)",min:0,max:7e3,visible:!0},{label:"Ordinateur portable (15 pouces)",value:392,color:"rgba(132,112,222,0.75)",min:0,max:25,visible:!1}]},{label:"Multim\xe9dia",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/television_1f4fa.png",actions:[{label:"Appareil photo",value:28,color:"rgb(149,0,255)",min:0,max:30,visible:!0},{label:"1 livre de poche",value:1.18,color:"rgb(114,201,35)",min:0,max:100,visible:!0},{label:"\xc9cran LCD (24 pouces)",value:431,color:"rgb(255,250,0)",min:0,max:10,visible:!1},{label:"Ordinateur fixe",value:865,color:"rgb(82,204,144)",min:0,max:20,visible:!1},{label:"T\xe9l\xe9vision 45 pouces",value:371,color:"rgb(232,94,94)",min:0,max:10,visible:!0}]},{label:"Alimentation",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/curry-rice_1f35b.png",actions:[{label:"Alcool fort (10cl)",value:.12,color:"rgb(243,243,243)",min:0,max:1e3,visible:!1},{label:"Blanc de poulet (120g)",value:.576,color:"rgb(205,204,78)",min:0,max:1e3,visible:!1},{label:"Boeuf (120g)",value:4.8,color:"rgb(255,0,38)",min:0,max:1e3,visible:!1},{label:"Canard (120g)",value:.78,color:"rgb(149,255,0)",min:0,max:1e3,visible:!1},{label:"Brioche (100g)",value:.491,color:"rgb(255,191,0)",min:0,max:1e3,visible:!1},{label:"Brocoli (100g)",value:.06,color:"rgb(98,255,0)",min:0,max:1e3,visible:!1},{label:"Chocolat noir (100g)",value:1.8,color:"rgb(140,11,11)",min:0,max:1e3,visible:!1},{label:"Compote (100g)",value:.08,color:"rgb(255,0,51)",min:0,max:1e3,visible:!1},{label:"Cr\xeape (100g)",value:.17,color:"rgb(255,250,0)",min:0,max:1e3,visible:!1},{label:"Fromage (150g)",value:.675,color:"rgb(255,250,0)",min:0,max:1e3,visible:!1},{label:"Fondant au chocolat (125g)",value:1.21,color:"rgb(171,71,4)",min:0,max:1e3,visible:!1},{label:"Glace (60g)",value:.1422,color:"rgb(255,222,0)",min:0,max:1e3,visible:!1},{label:"Jambon cru (130g)",value:1.638,color:"rgb(248,130,245)",min:0,max:1e3,visible:!1},{label:"Bi\xe8re (pinte)",value:1.33,color:"rgb(198,155,27)",min:0,max:1e3,visible:!1},{label:"L\xe9gumes/fruits local, de saison (100g)",value:.026,color:"rgb(85,213,101)",min:0,max:1e3,visible:!1},{label:"L\xe9gumes/fruits import\xe9 par avion, saison ou hors saison (100g)",value:2.7,color:"rgb(74,110,62)",min:0,max:1e3,visible:!1},{label:"Petits pois conserve (100g)",value:.04,color:"rgb(20,219,14)",min:0,max:1e3,visible:!1},{label:"Eau du robinet (1L)",value:13e-5,color:"rgb(0,50,118)",min:0,max:1e3,visible:!1},{label:"Eau de source (1L)",value:.45,color:"rgb(4,84,203)",min:0,max:1e3,visible:!1},{label:"Repas avec du boeuf",value:7.26,color:"rgb(172,16,40)",min:0,max:365,visible:!0},{label:"Repas avec du poulet",value:1.58,color:"rgb(255,250,133)",min:0,max:365,visible:!0},{label:"Repas v\xe9g\xe9tarien",value:.51,color:"rgb(47,219,65)",min:0,max:365,visible:!0}]},{label:"V\xe9tements",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/t-shirt_1f455.png",actions:[{label:"Chaussures",value:15,color:"rgb(11,125,140)",min:0,max:10,visible:!0},{label:"Chemise",value:11,color:"rgb(245,242,129)",min:0,max:10,visible:!1},{label:"T-shirt coton",value:5.2,color:"rgb(144,121,182)",min:0,max:10,visible:!0},{label:"1 jean en coton",value:23.2,color:"rgb(38,32,206)",min:0,max:10,visible:!0}]},{label:"\xc9nergie",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/high-voltage_26a1.png",actions:[{label:"Jour de chauffage (gaz)",value:18.63,color:"rgb(119,8,154)",min:0,max:365,visible:!0},{label:"Jour de chauffage (\xe9l\xe9ctricit\xe9)",value:1.64,color:"rgb(255,250,0)",min:0,max:365,visible:!0},{label:"Jour de chauffage (fioul)",value:32.05,color:"rgb(117,41,0)",min:0,max:365,visible:!0}]},{label:"Maison",img:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/120/apple/285/house_1f3e0.png",actions:[{label:"1 canap\xe9 convertible",value:197,color:"rgb(39,53,121)",min:0,max:10,visible:!0},{label:"Feuille de papier A4",value:.0046,color:"rgb(246,246,246)",min:0,max:1e3,visible:!0},{label:"Chaise",value:24.8,color:"rgb(248,84,255)",min:0,max:10,visible:!0},{label:"Table",value:60,color:"rgb(248,84,255)",min:0,max:10,visible:!1}]},{label:"Electrom\xe9nager",img:"https://www.emoji.com/wp-content/uploads/filebase/thumbnails/icons/emoji-icon-glossy-07-16-objects-other-object-fridge-72dpi-forPersonalUseOnly.png",actions:[{label:"Lave-vaisselle",value:271,color:"rgb(255,250,0)",min:0,max:10,visible:!0},{label:"R\xe9frig\xe9rateur",value:196,color:"rgb(49,213,255)",min:0,max:10,visible:!0},{label:"Aspirateur",value:50,color:"rgb(255,87,16)",min:0,max:10,visible:!0},{label:"Mini-four \xe9lectrique (cavit\xe9 33 litres)",value:82.7,color:"rgb(27,183,155)",min:0,max:10,visible:!1},{label:"Four \xe9lectrique encastrable (54 litres)",value:217,color:"rgb(0,89,74)",min:0,max:10,visible:!1},{label:"Four professionnel vapeur combi \xe9lectrique",value:865,color:"rgb(0,54,45)",min:0,max:10,visible:!1},{label:"Lave-vaisselle compact (9 couverts)",value:235,color:"rgb(160,208,0)",min:0,max:10,visible:!1},{label:"Lave-vaisselle standard (12 couverts)",value:271,color:"rgb(173,146,0)",min:0,max:10,visible:!1},{label:"Micro-onde",value:98.4,color:"rgb(183,53,201)",min:0,max:10,visible:!1}]}],P=function(){return Object(c.jsx)("footer",{children:Object(c.jsxs)("p",{children:["Fait avec amour par ",Object(c.jsx)("strong",{children:Object(c.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/alexandre-mace",children:"@alexandre-mace"})})]})})};var I=function(){var e=Object(l.useState)(!1),a=Object(n.a)(e,2),t=a[0],i=a[1],r=Object(l.useState)("home"),s=Object(n.a)(r,2),b=s[0],m=s[1];return Object(l.useEffect)((function(){setInterval((function(){i(!0)}),1e3)}),[]),Object(c.jsxs)("div",{className:"App",children:[!t&&Object(c.jsx)(M,{}),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(o,{mode:b,setMode:m}),Object(c.jsx)("h1",{className:"text-center",children:"Footprint"}),Object(c.jsx)(q,{actions:J}),Object(c.jsx)(P,{})]})]})},D=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,362)).then((function(a){var t=a.getCLS,l=a.getFID,i=a.getFCP,r=a.getLCP,s=a.getTTFB;t(e),l(e),i(e),r(e),s(e)}))},W=t(155),G=t(349),H=Object(W.a)({palette:{primary:{main:"#ff4b31"},secondary:{main:"#ff4b31"}}});s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(G.a,{theme:H,children:Object(c.jsx)(I,{})})}),document.getElementById("root")),D()}},[[284,1,2]]]);
//# sourceMappingURL=main.0fd39e44.chunk.js.map