{"version":3,"sources":["component/Header.js","component/CustomSlider.js","component/MainChart.js","service/BarChartData.js","component/DataVisualisation.js","component/Loader.js","App.js","reportWebVitals.js","index.js"],"names":["Header","className","Array","from","keys","map","item","key","iOSBoxShadow","marks","value","useStyles","makeStyles","root","color","action","height","padding","width","thumb","backgroundColor","boxShadow","marginTop","marginLeft","active","valueLabel","left","top","background","track","rail","opacity","mark","markActive","CustomSlider","setValue","styles","style","marginBottom","label","Slider","classes","defaultValue","onChange","event","newValue","aria-label","valueLabelDisplay","defaults","font","family","size","options","plugins","legend","display","position","labels","MainChart","datasets","chartRef","playRef","length","ref","reference","current","data","updateBarChartData","actions","alreadyAddedLabels","dataset","filter","includes","forEach","push","barPercentage","barThickness","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","find","DataVisualisation","useRef","activeActions","handleActionValueChange","activeAction","filteredAction","config","sort","a","b","update","marginRight","App","useState","loaded","setLoaded","useEffect","setInterval","Loader","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a9841628.chunk.js","sourcesContent":["const Header = () => (\n    <div className=\"slider-wrapper\">\n        <div className=\"slider\">\n            {Array.from(Array(100).keys()).map((item, key) => (\n                <div key={key} className={\"slider-item\"}> Collapse non merci ! </div>\n            ))}\n        </div>\n    </div>\n\n)\n\nexport default Header;","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core';\n\nconst iOSBoxShadow =\n    '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)';\n\nconst marks = [\n    {\n        value: 0,\n    },\n    {\n        value: 25,\n    },\n    {\n        value: 50,\n    },\n    {\n        value: 75,\n    },\n    {\n        value: 100,\n    },\n];\n\nconst useStyles = makeStyles({\n    root: {\n        color: action => action.color,\n        height: 2,\n        padding: '15px 0',\n        width: 200\n    },\n    thumb: {\n        height: 28,\n        width: 28,\n        backgroundColor: '#fff',\n        boxShadow: iOSBoxShadow,\n        marginTop: -14,\n        marginLeft: -14,\n        '&:focus, &:hover, &$active': {\n            boxShadow: '0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)',\n            // Reset on touch devices, it doesn't add specificity\n            '@media (hover: none)': {\n                boxShadow: iOSBoxShadow,\n            },\n        },\n    },\n    active: {},\n    valueLabel: {\n        left: 'calc(-50% + 12px)',\n        top: -18,\n        '& *': {\n            background: 'rgba(255,255,255, 0)',\n            color: '#000',\n        },\n    },\n    track: {\n        height: 2,\n    },\n    rail: {\n        height: 2,\n        opacity: 0.5,\n        backgroundColor: '#bfbfbf',\n    },\n    mark: {\n        backgroundColor: '#bfbfbf',\n        height: 8,\n        width: 1,\n        marginTop: -3,\n    },\n    markActive: {\n        opacity: 1,\n        backgroundColor: 'currentColor',\n    },\n});\n\nexport default function CustomSlider({value, setValue, action}) {\n\n    const handleChange = (event, newValue) => {\n        setValue(action, newValue);\n    };\n\n    const styles = useStyles(action);\n\n    return (\n        <div style={{marginBottom: '2rem'}}>\n            <div style={{marginBottom: '1.5rem'}}>{action.label}</div>\n            <Slider\n                classes={styles}\n                defaultValue={value}\n                onChange={handleChange}\n                aria-label=\"ios slider\"\n                marks={marks}\n                valueLabelDisplay=\"on\" />\n        </div>\n    );\n}\n","\nimport React from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { defaults } from 'react-chartjs-2';\n\ndefaults.font.family = 'mattoneregular';\ndefaults.font.size = 18;\n\nconst options = {\n    plugins: {\n        legend: {\n            display: false,\n            position: 'bottom',\n            labels: {\n                font: {\n                    size: 40,\n                }\n            }\n        },\n    },\n}\n\nconst MainChart = ({ datasets, chartRef, playRef }) => {\n    return (\n        <div className={\"main-chart-wrapper\"}>\n            {datasets.length === 0 &&\n                <div\n                    ref={(reference) => {if (reference !== null) {playRef.current = reference}}}\n                    className={\"play\"}>\n                        Jouez avec les options <br/>\n                    <div className={\"text-center arrow-wrapper\"}><span className=\"arrow arrow-bar is-bottom\"></span></div>\n                </div>\n            }\n            <Bar\n                ref={(reference) => {if (reference !== null) {chartRef.current = reference} }}\n                data={{\n                    labels: ['Empreinte carbone'],\n                    datasets: datasets\n                }}\n                options={options}\n            />\n        </div>\n    )\n};\n\nexport default MainChart;","const updateBarChartData = (data, actions) => {\n    let alreadyAddedLabels = data.datasets.map((dataset) => dataset.label[0])\n\n    if (alreadyAddedLabels.length !== actions.length && actions.length > alreadyAddedLabels.length) {\n        const actionsToAdd = actions.filter((action) => {\n            return !alreadyAddedLabels.includes(action.label)\n        })\n\n        actionsToAdd.forEach((action) => {\n            alreadyAddedLabels.push(action.label)\n            data.datasets.push({\n                barPercentage: 0.5,\n                barThickness: 30,\n                label: [action.label],\n                backgroundColor: [action.color],\n                borderColor: [action.color],\n                borderWidth: 1,\n                hoverBackgroundColor: [action.color],\n                hoverBorderColor: [action.color],\n                data: [action.value],\n            })\n        })\n\n        return;\n    }\n\n    if (alreadyAddedLabels.length === actions.length) {\n        data.datasets.find((dataset) => {\n            return actions.forEach((action) => {\n                if (action.value !== dataset.data[0] && action.label === dataset.label[0]) {\n                    dataset.data[0] = action.value\n                    return true;\n                }\n                return false\n            })\n        })\n    }\n}\n\nexport default updateBarChartData;\n","\nimport React, {useRef} from 'react';\nimport CustomSlider from \"./CustomSlider\";\nimport MainChart from \"./MainChart\";\nimport updateBarChartData from \"../service/BarChartData\";\n\nconst DataVisualisation = ({ actions }) => {\n    const chartRef = useRef(null);\n    const playRef = useRef(null);\n    let activeActions = [];\n\n    const handleActionValueChange = (action, newValue) => {\n        let activeAction = activeActions.filter((filteredAction) => filteredAction.label === action.label);\n        if (activeAction.length === 0) {\n            activeAction = {...action};\n        } else {\n            activeAction = activeAction[0];\n        }\n\n        activeAction.value = action.value * newValue;\n        activeActions = [\n            ...activeActions.filter((filteredAction) => (filteredAction.label !== action.label)),\n            activeAction\n        ];\n\n        updateBarChartData(chartRef.current.config.data, activeActions)\n        chartRef.current.config.data.datasets = chartRef.current.config.data.datasets.sort((a, b) => {\n            return b.data[0] - a.data[0];\n        });\n\n        if (playRef.current.style.display !== 'none') {\n            playRef.current.style.display = 'none'\n        }\n        chartRef.current.update();\n    }\n\n    return (\n        <>\n            <MainChart playRef={playRef} chartRef={chartRef} datasets={[]}/>\n\n            <div className=\"d-flex input-sliders-wrapper\">\n                {actions.map((action, key) => (\n                    <div style={{marginRight: '1.5rem'}} key={key}>\n                        <CustomSlider action={action} value={action.value} setValue={handleActionValueChange}/>\n                    </div>\n                ))}\n            </div>\n        </>\n    )\n};\n\nexport default DataVisualisation;","const Header = () => (\n    <div className={\"loader\"}>\n        <div className=\"slider-wrapper\">\n            <div className=\"slider\">\n                {Array.from(Array(100).keys()).map((item, key) => (\n                    <div key={key} className={\"slider-item\"}>:)</div>\n                ))}\n            </div>\n        </div>\n    </div>\n\n)\n\nexport default Header;","import './App.css';\nimport Header from \"./component/Header\";\nimport DataVisualisation from \"./component/DataVisualisation\";\nimport {useEffect, useState} from \"react\";\nimport Loader from \"./component/Loader\";\n\nconst actions = [\n    {\n        'label': 'Arrêter de manger de la viande',\n        'value': 40,\n        'color': 'rgb(255,103,0)'\n    },\n    {\n        'label': 'Se déplacer à cheval',\n        'value': 30,\n        'color': 'rgb(128,0,255, 1)'\n    },\n    {\n        'label': 'Pipi sous la douche',\n        'value': 2,\n        'color': 'rgb(255,250,0)'\n    }\n]\n\nfunction App() {\n  const [loaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n      setInterval(() => {setLoaded(true)}, 1000)\n  }, [])\n  return (\n    <div className=\"App\">\n        {!loaded &&\n            <Loader/>\n        }\n        <>\n            <Header/>\n            <DataVisualisation actions={actions}/>\n        </>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}